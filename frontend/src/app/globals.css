@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Light theme - 温润如玉 */
    --background: 255 255 255;
    --foreground: 28 25 23;
    --card: 255 255 255;
    --card-foreground: 28 25 23;
    --popover: 255 255 255;
    --popover-foreground: 28 25 23;
    --primary: 20 184 166;
    --primary-foreground: 255 255 255;
    --secondary: 245 245 244;
    --secondary-foreground: 28 25 23;
    --muted: 245 245 244;
    --muted-foreground: 168 162 158;
    --accent: 20 184 166;
    --accent-foreground: 255 255 255;
    --destructive: 220 38 38;
    --destructive-foreground: 255 255 255;
    --border: 231 229 228;
    --input: 231 229 228;
    --ring: 20 184 166;
    --radius: 16px;
  }

  .dark {
    /* Dark theme */
    --background: 26 26 24;
    --foreground: 250 250 249;
    --card: 36 36 33;
    --card-foreground: 250 250 250;
    --popover: 36 36 33;
    --popover-foreground: 250 250 250;
    --primary: 45 212 191;
    --primary-foreground: 26 26 24;
    --secondary: 41 37 36;
    --secondary-foreground: 250 250 249;
    --muted: 41 37 36;
    --muted-foreground: 168 162 158;
    --accent: 45 212 191;
    --accent-foreground: 26 26 24;
    --destructive: 248 113 113;
    --destructive-foreground: 26 26 24;
    --border: 41 37 36;
    --input: 41 37 36;
    --ring: 45 212 191;
  }
}

@layer base {
  * {
    @apply border-warm-200 dark:border-warm-800;
  }

  body {
    @apply bg-white dark:bg-warm-950 text-warm-900 dark:text-warm-50;
    @apply font-sans antialiased;
    font-feature-settings: 'rlig' 1, 'calt' 1;
  }

  /* Smooth scrolling */
  html {
    @apply scroll-smooth;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-warm-300 dark:bg-warm-700 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-warm-400 dark:bg-warm-600;
  }
}

@layer components {
  /* Button styles */
  .btn {
    @apply inline-flex items-center justify-center rounded-xl px-4 py-2.5 text-sm font-medium;
    @apply transition-all duration-250 ease-her;
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-jade-500 focus-visible:ring-offset-2;
    @apply disabled:pointer-events-none disabled:opacity-50;
  }

  .btn-primary {
    @apply bg-jade-500 text-white hover:bg-jade-600 active:bg-jade-700;
    @apply shadow-jade hover:shadow-jade-lg;
  }

  .btn-secondary {
    @apply bg-warm-100 text-warm-900 hover:bg-warm-200 dark:bg-warm-800 dark:text-warm-100 dark:hover:bg-warm-700;
  }

  .btn-ghost {
    @apply bg-transparent hover:bg-warm-100 dark:hover:bg-warm-800;
  }

  /* Input styles */
  .input {
    @apply flex h-11 w-full rounded-xl border border-warm-200 bg-transparent px-3 py-2 text-sm;
    @apply placeholder:text-warm-400;
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-jade-500 focus-visible:ring-offset-2;
    @apply disabled:cursor-not-allowed disabled:opacity-50;
    @apply dark:border-warm-800 dark:placeholder:text-warm-600;
    @apply transition-all duration-250 ease-her;
  }

  /* Card styles */
  .card {
    @apply rounded-xl border border-warm-200 bg-white dark:border-warm-800 dark:bg-warm-900;
    @apply shadow-sm;
  }

  /* Animation utilities */
  .animate-in {
    animation: fadeIn 0.25s ease-out;
  }

  .slide-up {
    animation: slideUp 0.3s ease-out;
  }
}

/* Markdown content styles */
.prose {
  @apply max-w-none;
}

.prose-warm {
  @apply text-warm-700 dark:text-warm-300;
}

.prose p {
  @apply my-4 leading-7;
}

.prose h1,
.prose h2,
.prose h3,
.prose h4 {
  @apply font-bold my-4 scroll-mt-20;
}

.prose h1 {
  @apply text-2xl;
}

.prose h2 {
  @apply text-xl;
}

.prose h3 {
  @apply text-lg;
}

.prose code {
  @apply rounded-lg bg-warm-100 px-1.5 py-0.5 text-sm font-medium;
  @apply dark:bg-warm-800;
}

.prose pre {
  @apply my-4 overflow-x-auto rounded-xl bg-warm-900 p-4 dark:bg-warm-950;
}

.prose pre code {
  @apply bg-transparent p-0 text-warm-50 dark:text-warm-200;
}

.prose ul,
.prose ol {
  @apply my-4 ml-6 list-disc;
}

.prose ol {
  @apply list-decimal;
}

.prose li {
  @apply my-1 text-warm-700 dark:text-warm-300;
}

.prose a {
  @apply text-jade-600 underline underline-offset-4 hover:text-jade-700;
  @apply dark:text-jade-400 dark:hover:text-jade-300;
}

.prose blockquote {
  @apply border-l-4 border-jade-500 pl-4 italic text-warm-600 dark:text-warm-400;
}

.prose table {
  @apply my-4 w-full border-collapse;
}

.prose th,
.prose td {
  @apply border border-warm-200 px-4 py-2 text-left dark:border-warm-800;
}

.prose th {
  @apply bg-warm-50 font-semibold dark:bg-warm-900;
}

/* Keyframes */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Shimmer effect for skeletons */
@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

.animate-shimmer {
  animation: shimmer 2s infinite linear;
  background: linear-gradient(
    to right,
    rgb(var(--warm-200) / 1) 0%,
    rgb(var(--warm-100) / 1) 50%,
    rgb(var(--warm-200) / 1) 100%
  );
  background-size: 1000px 100%;
}

.dark .animate-shimmer {
  background: linear-gradient(
    to right,
    rgb(var(--warm-800) / 1) 0%,
    rgb(var(--warm-700) / 1) 50%,
    rgb(var(--warm-800) / 1) 100%
  );
  background-size: 1000px 100%;
}

/* Smooth scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-warm-300 dark:bg-warm-700 rounded-full transition-colors duration-250;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-warm-400 dark:bg-warm-600;
}
